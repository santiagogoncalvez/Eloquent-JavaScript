<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Document</title>
   </head>
   <body>
      <h1>Heading with a <span>span</span> element.</h1>
      <p>A paragraph with <span>one</span>, <span>two</span>spans.</p>

      <script>
         function byTagName(node, tagName) {
            let foundElements = [];

            function explore(node, tagName) {
               if (node.children.length === 0) {
                  return;
               }
               for (let element of node.children) {
                  if (element.nodeName.toLowerCase() === tagName) {
                     foundElements.push(element);
                  }
                  if (element.children.length != 0) {
                     explore(element, tagName);
                  }
               }
            }

            explore(node, tagName);
            return foundElements;
         }

         console.log(byTagName(document.body, "h1").length);
         // → 1
         console.log(byTagName(document.body, "span").length);
         // → 3
         let para = document.querySelector("p");
         console.log(byTagName(para, "span").length);
         // → 2
      </script>
   </body>
</html>
